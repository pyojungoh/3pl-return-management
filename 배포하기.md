# 🚀 배포 가이드

## Railway로 배포하기 (가장 간단한 방법)

### 1단계: GitHub에 코드 업로드

#### 옵션 A: Git 초기화 및 GitHub에 푸시

```bash
# Git 초기화 (아직 안 했다면)
git init

# .gitignore 파일 확인/생성
# data.db, venv/, __pycache__ 등은 제외해야 합니다

# 파일 추가
git add .

# 커밋
git commit -m "배포 준비 완료"

# GitHub 저장소 생성 후
git remote add origin https://github.com/your-username/your-repo.git
git branch -M main
git push -u origin main
```

#### 옵션 B: GitHub Desktop 사용
1. GitHub Desktop 설치
2. "Add" → "Create New Repository"
3. 프로젝트 폴더 선택
4. 파일 추가 후 "Commit to main"
5. "Publish repository" 클릭

### 2단계: Railway에서 배포

1. **Railway 웹사이트 접속**
   - https://railway.app 접속
   - GitHub 계정으로 로그인

2. **새 프로젝트 생성**
   - "New Project" 클릭
   - "Deploy from GitHub repo" 선택
   - 방금 푸시한 저장소 선택

3. **자동 배포**
   - Railway가 자동으로 `railway.json`과 `Procfile`을 인식
   - Python 런타임 자동 감지
   - 배포가 자동으로 시작됩니다

4. **환경 변수 설정 (선택사항)**
   - 프로젝트 → Settings → Variables
   - 다음 변수 추가 (필요한 경우):
     ```
     CLOUDINARY_CLOUD_NAME=your_cloud_name
     CLOUDINARY_API_KEY=your_api_key
     CLOUDINARY_API_SECRET=your_api_secret
     SECRET_KEY=your-secret-key
     ```
   - 현재 코드에 기본값이 있어서 필수는 아닙니다

5. **배포 완료**
   - 배포가 완료되면 자동으로 URL이 생성됩니다
   - 예: `https://your-app-name.up.railway.app`
   - 이 URL로 접속하면 애플리케이션이 실행됩니다

### 3단계: 도메인 설정 (선택사항)

1. Railway 대시보드 → 프로젝트 → Settings → Domains
2. "Generate Domain" 클릭 (무료 도메인)
3. 또는 커스텀 도메인 추가

## 중요 파일 확인

배포 전에 다음 파일들이 있는지 확인하세요:

- ✅ `app.py` - 메인 서버 파일
- ✅ `requirements.txt` - Python 패키지
- ✅ `Procfile` - Railway 실행 명령어
- ✅ `railway.json` - Railway 설정
- ✅ `dashboard_server.html` - 대시보드 파일

## 데이터베이스

- SQLite 데이터베이스 (`data.db`)는 Railway에 자동으로 저장됩니다
- 초기 배포 시 데이터베이스가 없으면 자동으로 생성됩니다
- 기존 데이터를 사용하려면 프로젝트에 `data.db` 파일을 포함시켜야 합니다

## 문제 해결

### 배포가 실패하는 경우
1. Railway 대시보드 → Logs에서 에러 확인
2. `requirements.txt`의 패키지 버전 확인
3. Python 버전 확인 (Railway는 자동 감지)

### 애플리케이션이 실행되지 않는 경우
1. 로그에서 포트 에러 확인
2. `Procfile`이 올바른지 확인
3. 환경 변수 설정 확인

## 다음 단계

배포가 완료되면:
1. 배포된 URL로 접속 테스트
2. 로그인 기능 테스트
3. 이미지 업로드 기능 테스트
4. 데이터베이스 기능 테스트

## 참고

- Railway는 무료 플랜을 제공합니다 (월 500시간)
- 자동 배포: GitHub에 푸시하면 자동으로 재배포됩니다
- 로그 확인: Railway 대시보드에서 실시간 로그 확인 가능

