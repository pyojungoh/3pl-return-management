# 데이터 내역이 안 들어오는 문제 해결

## 문제 원인
Vercel 배포 후 SQLite 데이터베이스가 비어있어서 반품 내역이 표시되지 않습니다.

## 해결 방법

### 방법 1: 로컬에서 마이그레이션 후 배포 (간단하지만 제한적)

1. **로컬에서 마이그레이션 실행**
```cmd
python migrate_from_sheets_oauth.py
```

2. **data.db 파일을 GitHub에 포함**
   - `.gitignore`에서 `data.db` 제외 확인
   - GitHub에 커밋 및 푸시

3. **문제점**
   - Vercel은 서버리스 환경이므로 `/tmp` 디렉토리 사용
   - 데이터베이스가 재시작 시 초기화될 수 있음
   - 영구 저장되지 않을 수 있음

### 방법 2: API 엔드포인트로 마이그레이션 (권장)

배포된 사이트에서 브라우저 콘솔이나 API를 통해 마이그레이션 실행

### 방법 3: 외부 데이터베이스 사용 (가장 안정적)

1. **Vercel Postgres 사용** (무료 플랜 제공)
2. **Supabase 사용** (무료 플랜 제공)
3. **Railway Postgres 사용** (무료 플랜 제공)

## 즉시 해결 방법

### 브라우저 콘솔에서 데이터 확인

1. 배포된 사이트 접속
2. F12 → Console 탭
3. 다음 코드 실행:

```javascript
// 데이터 조회 테스트
fetch('/api/returns/data?month=2025년11월')
  .then(r => r.json())
  .then(data => {
    console.log('데이터:', data);
    console.log('개수:', data.count);
  });
```

### 데이터가 없으면

1. 로컬에서 마이그레이션 실행
2. 또는 새로 반품 등록 기능 사용
3. 또는 외부 데이터베이스로 전환

## 추천 해결책

**Vercel Postgres 또는 Supabase 사용**
- 무료 플랜 제공
- 영구 데이터 저장
- 안정적인 서비스

