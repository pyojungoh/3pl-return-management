# 데이터베이스 영구 저장 방법

## 문제점
Vercel 서버리스 환경에서 `/tmp` 디렉토리는 임시 저장소입니다.
- 함수 실행 시마다 초기화될 수 있음
- 재시작 시 데이터가 사라질 수 있음
- SQLite는 서버리스 환경에 적합하지 않음

## 해결 방법

### 방법 1: Vercel Postgres 사용 (권장) ⭐

**장점:**
- Vercel과 완벽 통합
- 무료 플랜 제공
- 자동 백업
- 영구 저장

**설정 방법:**
1. Vercel 대시보드 → 프로젝트 → Storage → Create Database
2. Postgres 선택
3. 환경 변수 자동 설정됨
4. 코드에서 PostgreSQL 사용하도록 수정

### 방법 2: Supabase 사용 (무료) ⭐

**장점:**
- 무료 플랜 제공 (500MB)
- PostgreSQL 호환
- 자동 백업
- 쉬운 설정

**설정 방법:**
1. https://supabase.com 접속
2. 새 프로젝트 생성
3. 데이터베이스 연결 정보 가져오기
4. 환경 변수 설정
5. 코드에서 PostgreSQL 사용하도록 수정

### 방법 3: Railway Postgres (무료)

**장점:**
- 무료 플랜 제공
- PostgreSQL
- 쉬운 설정

### 방법 4: PlanetScale (MySQL)

**장점:**
- 무료 플랜 제공
- MySQL 호환
- 서버리스 최적화

## 추천: Supabase 사용

가장 간단하고 무료로 사용할 수 있습니다.

### Supabase 설정 단계

1. **Supabase 프로젝트 생성**
   - https://supabase.com 접속
   - 새 프로젝트 생성
   - 데이터베이스 비밀번호 설정

2. **연결 정보 가져오기**
   - Settings → Database
   - Connection string 복사

3. **환경 변수 설정**
   - Vercel 대시보드 → Environment Variables
   - `DATABASE_URL` 추가

4. **코드 수정**
   - PostgreSQL 드라이버 설치
   - SQLite → PostgreSQL 전환

## 빠른 해결책 (임시)

현재 SQLite를 유지하면서 데이터를 보존하려면:

1. **정기적으로 데이터베이스 백업**
2. **외부 저장소에 백업** (S3, Cloudinary 등)
3. **시작 시 백업에서 복원**

하지만 이 방법은 완벽하지 않습니다.

## 권장 사항

**Supabase를 사용하세요!**
- 무료
- 영구 저장
- 자동 백업
- 쉬운 설정

